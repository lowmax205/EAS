# Story 1.4: Campus Selection UI Components

## Status
Draft

## Story
**As a** campus administrator,
**I want** intuitive campus selection and management interfaces,
**so that** I can easily work within my campus context and manage campus-specific settings.

## Acceptance Criteria
1. Campus selector component created using existing shadcn/ui patterns
2. Campus context provider implemented for React state management
3. Campus filter components added to event and user listing screens
4. Campus management interface created for super-admin users
5. All new components follow existing design system and responsive patterns

## Integration Verification
- **IV1:** Existing UI components continue to function identically for SNSU users
- **IV2:** Current user workflows remain unchanged unless explicitly using new campus features
- **IV3:** Mobile responsiveness and accessibility standards maintained across all new components

## Tasks / Subtasks
- [ ] Task 1: Create Campus Context Provider (AC: 2)
  - [ ] Implement CampusProvider component with React Context API
  - [ ] Integrate with existing AuthProvider for user campus permissions
  - [ ] Add campus switching functionality with permission validation
  - [ ] Create useCampus hook for accessing campus context throughout app
- [ ] Task 2: Build Campus Selector Component (AC: 1)
  - [ ] Create CampusSelector component using existing shadcn/ui Select patterns
  - [ ] Implement campus dropdown with search functionality
  - [ ] Add current campus display with campus theming/branding
  - [ ] Create compact variant for header and mobile display
- [ ] Task 3: Implement Campus Filter Components (AC: 3)
  - [ ] Create CampusFilter component for event and user listing screens
  - [ ] Add multi-select campus filtering for admin users
  - [ ] Integrate campus filtering with existing FilterComponent patterns
  - [ ] Add "All Campuses" option for super-admin cross-campus views
- [ ] Task 4: Create Campus Management Interface (AC: 4)
  - [ ] Build CampusManagement component for super-admin users
  - [ ] Implement campus CRUD operations interface
  - [ ] Add campus configuration settings management
  - [ ] Create campus statistics and analytics dashboard
- [ ] Task 5: Ensure Design System Consistency (AC: 5)
  - [ ] Apply existing responsive breakpoint system to all new components
  - [ ] Implement campus-specific theming using CSS variables
  - [ ] Add accessibility features (ARIA labels, keyboard navigation)
  - [ ] Create mobile-optimized variants for all campus components

## Dev Notes

### Campus Context Architecture
The campus UI system builds on existing React patterns with a new CampusProvider that integrates seamlessly with the current AuthProvider hierarchy.

**Campus Context Provider:** [Source: architecture/component-architecture.md#campus-context-provider]
```typescript
interface CampusContextProps {
  currentCampus: Campus;
  availableCampuses: Campus[];
  userCampusPermissions: CampusPermissions;
  switchCampus: (campusId: number) => Promise<void>;
  getCampusById: (id: number) => Campus | null;
}
```

**Provider Integration:** The CampusProvider will be inserted into the existing provider hierarchy:
```typescript
<ThemeProvider>
  <AuthProvider>
    <CampusProvider> {/* NEW */}
      <DataPreloadProvider>
        {/* Existing app structure */}
      </DataPreloadProvider>
    </CampusProvider>
  </AuthProvider>
</ThemeProvider>
```

### Campus Selector Component Design
**Campus Selector Component:** [Source: architecture/component-architecture.md#campus-selector-component]
```typescript
interface CampusSelectorProps {
  currentCampusId: number;
  availableCampuses: Campus[];
  onCampusChange: (campusId: number) => void;
  disabled?: boolean;
  compact?: boolean; // For header/mobile display
}
```

The component uses existing shadcn/ui Select patterns and maintains consistent styling with current dropdown components throughout the application.

### Campus Filter Integration
**Campus Filter Component:** [Source: architecture/component-architecture.md#campus-filter-component]
```typescript
interface CampusFilterProps {
  selectedCampusIds: number[];
  onCampusFilterChange: (campusIds: number[]) => void;
  allowMultiSelect?: boolean; // Admin-only feature
  showAllOption?: boolean;
}
```

### Enhanced Existing Components
**UserManagement.jsx Enhancement:** [Source: architecture/component-architecture.md#usermanagement-jsx-enhancement]
- Add campus context to user creation/editing forms
- Campus-based user filtering in table
- Campus column in user table display
- Campus-aware user assignment validation

**EventManagement.jsx Enhancement:** [Source: architecture/component-architecture.md#eventmanagement-jsx-enhancement]
- Campus context in event creation forms
- Campus-based event filtering and display
- Campus validation for event location
- Cross-campus event permissions (admin only)

### Campus Theming Implementation
Campus-specific theming will be implemented using CSS variables that can be dynamically updated based on current campus context:

```css
:root {
  --campus-primary: var(--snsu-primary, #22c55e);
  --campus-secondary: var(--snsu-secondary, #166534);
  --campus-accent: var(--snsu-accent, #dcfce7);
}

[data-campus="usc"] {
  --campus-primary: #3b82f6;
  --campus-secondary: #1e40af;
  --campus-accent: #dbeafe;
}
```

### Responsive Design Implementation
All campus components will follow the existing responsive breakpoint system:
- Mobile: 320px-767px (campus selector in header, touch-optimized)
- Tablet: 768px-1023px (compact campus filters)
- Desktop: 1024px+ (full campus management interface)

### File Locations
- **Campus Provider:** `frontend/src/contexts/CampusContext.jsx` (new file)
- **Campus Selector:** `frontend/src/components/ui/CampusSelector.jsx` (new file)
- **Campus Filter:** `frontend/src/components/filters/CampusFilter.jsx` (new file)
- **Campus Management:** `frontend/src/pages/admin/CampusManagement.jsx` (new file)
- **Enhanced User Management:** `frontend/src/pages/UserManagement.jsx` (extend existing)
- **Enhanced Event Management:** `frontend/src/pages/EventManagement.jsx` (extend existing)

### Testing Requirements
- **Unit Tests:** Campus context provider, selector component, filter functionality
- **Integration Tests:** Campus switching workflows, permission validation
- **Visual Regression Tests:** Component rendering across different campus themes
- **Accessibility Tests:** Keyboard navigation, screen reader compatibility
- **Responsive Tests:** Component behavior across all breakpoints

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-07-31 | 1.0 | Initial story creation for campus selection UI components | Bob, Scrum Master |
